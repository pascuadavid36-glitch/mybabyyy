<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For My Love &#10084;&#65039;</title>
<style>
:root {
  --ink: rgba(78, 64, 74, 0.52);
  --ink-soft: rgba(78, 64, 74, 0.32);
}

body {
  margin: 0;
  height: 100vh;
  background:
    radial-gradient(circle at 20% 16%, rgba(255, 194, 218, 0.28), transparent 45%),
    radial-gradient(circle at 82% 26%, rgba(213, 233, 255, 0.22), transparent 42%),
    radial-gradient(circle at 52% 88%, rgba(255, 216, 232, 0.18), transparent 44%),
    linear-gradient(160deg, #2b0d28 0%, #20122b 56%, #161325 100%);
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  font-family: "Segoe UI", sans-serif;
  color: #fff;
}

.love-rain {
  position: fixed;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
  z-index: 0;
}

.love-drop {
  position: absolute;
  top: var(--start-y, 140px);
  left: var(--start-x, 50vw);
  font-size: var(--size, 18px);
  opacity: 0;
  filter: drop-shadow(0 0 8px rgba(255, 77, 136, 0.5));
  animation: loveFall var(--duration, 7s) linear forwards;
}

@keyframes loveFall {
  0% {
    opacity: 0;
    transform: translate(0, 0) scale(0.8) rotate(0deg);
  }
  12% { opacity: 0.95; }
  100% {
    opacity: 0;
    transform: translate(var(--drift, 0px), 100vh) scale(1.15) rotate(var(--spin, 90deg));
  }
}

.start-screen {
  position: absolute;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle at center, rgba(34, 0, 29, 0.92), rgba(18, 0, 24, 0.98));
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10;
  transition: opacity 0.8s ease, transform 0.8s ease;
}

.start-screen.opening {
  opacity: 0;
  transform: scale(1.04);
  pointer-events: none;
}

.memory-wall {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1;
}

.polaroid {
  position: absolute;
  width: 132px;
  padding: 8px 8px 24px;
  border-radius: 6px;
  background: #fff;
  color: #2c2c2c;
  box-shadow: 0 16px 34px rgba(0, 0, 0, 0.32);
  transform: translateY(28px) rotate(var(--tilt, -4deg)) scale(0.94);
  opacity: 0;
}

.memory-photo {
  height: 116px;
  border-radius: 4px;
  overflow: hidden;
  background: #f4f4f4;
}

.photo-1 { background: linear-gradient(145deg, #ff709e, #ff4f86); }
.photo-2 { background: linear-gradient(145deg, #ff9e8e, #f86c6c); }
.photo-3 { background: linear-gradient(145deg, #b67cff, #7f67ff); }
.photo-4 { background: linear-gradient(145deg, #58c1ff, #3a9dff); }
.photo-5 { background: linear-gradient(145deg, #74d6a8, #31b386); }

.memory-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.memory-1 { top: 8%; left: 8%; --tilt: -9deg; --delay: 0.2s; }
.memory-2 { top: 16%; right: 8%; --tilt: 7deg; --delay: 0.7s; }
.memory-3 { top: 52%; left: 4%; --tilt: -6deg; --delay: 1.1s; }
.memory-4 { top: 48%; right: 4%; --tilt: 8deg; --delay: 1.5s; }
.memory-5 { top: 68%; right: 20%; --tilt: -5deg; --delay: 1.9s; }

.show-memories .polaroid {
  animation: memoryIn 0.9s ease forwards;
  animation-delay: var(--delay, 0s);
}

@keyframes memoryIn {
  0% {
    opacity: 0;
    transform: translateY(28px) rotate(var(--tilt, 0deg)) scale(0.9);
  }
  100% {
    opacity: 0.92;
    transform: translateY(0) rotate(var(--tilt, 0deg)) scale(1);
  }
}

.final-surprise {
  position: fixed;
  left: 50%;
  top: calc(50% + 270px);
  transform: translate(-50%, 16px);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.45s ease, transform 0.45s ease;
  z-index: 9;
}

.final-surprise.show {
  opacity: 1;
  pointer-events: auto;
  transform: translate(-50%, 0);
}

.surprise-card {
  width: min(92vw, 390px);
  background: linear-gradient(165deg, #fff1f8, #ffdcea);
  border: 2px solid rgba(255, 255, 255, 0.72);
  border-radius: 20px;
  padding: 24px;
  text-align: center;
  color: #7d1f52;
  box-shadow: 0 20px 56px rgba(0, 0, 0, 0.4);
}

.surprise-title {
  margin: 0 0 10px;
  font-size: 28px;
}

.surprise-text {
  margin: 0 0 20px;
  font-size: 16px;
}

.surprise-actions {
  position: relative;
  height: 48px;
}

.surprise-btn {
  border: 0;
  border-radius: 999px;
  min-width: 118px;
  height: 42px;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
}

.yes-btn {
  background: linear-gradient(90deg, #d81b60, #ff6fa1);
  color: #fff;
  box-shadow: 0 10px 24px rgba(216, 27, 96, 0.36);
}

.no-btn {
  position: absolute;
  left: calc(50% + 16px);
  top: 0;
  transform: translateX(0);
  background: #ffe8f2;
  color: #9e3667;
  border: 1px solid #ffc9dc;
}

.surprise-reply {
  min-height: 22px;
  margin: 14px 0 0;
  font-size: 14px;
  color: #a03767;
}

@media (max-width: 800px) {
  .polaroid {
    width: 112px;
    padding: 7px 7px 20px;
  }

  .memory-photo {
    height: 98px;
    font-size: 24px;
  }

  .memory-1 { top: 6%; left: 2%; }
  .memory-2 { top: 8%; right: 2%; }
  .memory-3 { top: 58%; left: 1%; }
  .memory-4 { top: 55%; right: 1%; }
  .memory-5 { top: 74%; right: 14%; }

  .final-surprise {
    top: calc(50% + 250px);
  }
}

.letter-card {
  width: min(86vw, 360px);
  padding: 30px 26px 24px;
  border-radius: 18px;
  text-align: center;
  background: linear-gradient(160deg, #fff2f7, #ffd8e8);
  color: #7a1b4a;
  box-shadow: 0 20px 55px rgba(0, 0, 0, 0.42);
  position: relative;
  border: 2px solid rgba(255, 255, 255, 0.6);
}

.letter-card::before {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  top: -40px;
  margin: auto;
  width: 0;
  height: 0;
  border-left: 180px solid transparent;
  border-right: 180px solid transparent;
  border-bottom: 42px solid #ffe3ef;
  filter: drop-shadow(0 -3px 5px rgba(255, 144, 181, 0.24));
}

.letter-title {
  margin: 0;
  font-size: 28px;
  letter-spacing: 1px;
  font-weight: 700;
}

.letter-note {
  margin: 10px 0 20px;
  font-size: 15px;
  color: #8b3260;
}

.open-letter-btn {
  border: 0;
  border-radius: 999px;
  padding: 11px 20px;
  background: linear-gradient(90deg, #db1f69, #ff7cab);
  color: #fff;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 10px 24px rgba(219, 31, 105, 0.35);
  animation: pulse 2s infinite;
}

.wax-seal {
  width: 52px;
  height: 52px;
  border-radius: 50%;
  margin: 0 auto 14px;
  display: grid;
  place-items: center;
  font-size: 22px;
  color: #ffd7e8;
  background: radial-gradient(circle at 35% 30%, #ff6ca5, #b31353);
  box-shadow: 0 8px 18px rgba(177, 8, 75, 0.45);
}

@keyframes pulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

.bouquet {
  position: relative;
  width: 520px;
  height: 640px;
  --bouquet-scale: 1.16;
  transform: scale(var(--bouquet-scale));
  transform-origin: bottom center;
  filter: drop-shadow(0 18px 26px rgba(42, 20, 36, 0.26));
  z-index: 2;
}

.bouquet.is-alive {
  animation: bouquetSway 6.5s ease-in-out infinite;
}

@keyframes bouquetSway {
  0%, 100% { transform: scale(var(--bouquet-scale)) rotate(0deg) translateY(0); }
  25% { transform: scale(var(--bouquet-scale)) rotate(-1.2deg) translateY(-2px); }
  50% { transform: scale(var(--bouquet-scale)) rotate(0.8deg) translateY(0); }
  75% { transform: scale(var(--bouquet-scale)) rotate(-0.6deg) translateY(-1px); }
}

.stem {
  position: absolute;
  bottom: 95px;
  left: 50%;
  width: var(--stem-thickness, 9px);
  height: 0;
  background: linear-gradient(
    90deg,
    #1d5a3a 0%,
    #2f8b58 32%,
    #79dca8 52%,
    #2d8555 76%,
    #1a5034 100%
  );
  border-radius: 999px;
  transform-origin: bottom center;
  transform: var(--stem-transform, translateX(-50%));
  box-shadow: 0 0 12px rgba(64, 190, 130, 0.34);
  border: 1px solid rgba(35, 83, 58, 0.42);
  overflow: visible;
  z-index: 1;
}

.stem::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.2) 35%,
    rgba(255, 255, 255, 0.05) 55%,
    rgba(255, 255, 255, 0) 100%
  );
  animation: sapFlow 3.8s linear infinite;
}

.stem::after {
  content: "";
  position: absolute;
  left: 12%;
  width: 76%;
  height: 100%;
  border-radius: inherit;
  background: linear-gradient(
    180deg,
    rgba(30, 92, 60, 0.2) 0%,
    rgba(20, 62, 42, 0.34) 100%
  );
}

.stem-left {
  left: 154px;
  --stem-transform: translateX(-50%) rotate(14deg);
  --stem-height: 290px;
}

.stem-right {
  left: 366px;
  --stem-transform: translateX(-50%) rotate(-14deg);
  --stem-height: 290px;
}

.stem-back-left {
  left: 104px;
  --stem-transform: translateX(-50%) rotate(24deg);
  --stem-height: 262px;
  --stem-thickness: 8px;
  opacity: 0.88;
  z-index: 0;
}

.stem-back-right {
  left: 416px;
  --stem-transform: translateX(-50%) rotate(-24deg);
  --stem-height: 262px;
  --stem-thickness: 8px;
  opacity: 0.88;
  z-index: 0;
}

.stem-mid-left {
  left: 198px;
  --stem-transform: translateX(-50%) rotate(4deg);
  --stem-height: 316px;
  --stem-thickness: 8px;
  opacity: 0.94;
  z-index: 1;
}

.stem-mid-right {
  left: 322px;
  --stem-transform: translateX(-50%) rotate(-4deg);
  --stem-height: 316px;
  --stem-thickness: 8px;
  opacity: 0.94;
  z-index: 1;
}

#stem {
  --stem-transform: translateX(-50%);
  --stem-height: 322px;
}

.grow-stem {
  animation: growStem 2.4s ease-out forwards, stemAlive 4.2s ease-in-out infinite 2.4s;
}

@keyframes growStem {
  to { height: var(--stem-height, 280px); }
}

@keyframes stemAlive {
  0%, 100% { filter: saturate(1) brightness(1); }
  50% { filter: saturate(1.2) brightness(1.12); }
}

@keyframes sapFlow {
  0% { opacity: 0.45; }
  50% { opacity: 0.75; }
  100% { opacity: 0.45; }
}

.leaf {
  position: absolute;
  left: 50%;
  width: 34px;
  height: 18px;
  border-radius: 100% 0 100% 0;
  background: linear-gradient(140deg, #86e3ad, #2a8f5a);
  border: 1px solid rgba(42, 107, 73, 0.4);
  box-shadow: 0 0 8px rgba(84, 205, 142, 0.35);
  transform-origin: center center;
  opacity: 0;
}

.leaf::before {
  content: "";
  position: absolute;
  top: 7px;
  left: 5px;
  width: 24px;
  height: 2px;
  border-radius: 999px;
  background: rgba(232, 255, 240, 0.45);
}

.show-leaves .leaf {
  animation: leafAppear 1.2s ease forwards, leafAlive 3.5s ease-in-out infinite 1.2s;
}

@keyframes leafAppear {
  0% {
    opacity: 0;
    transform: var(--leaf-transform) scale(0.2);
  }
  100% {
    opacity: 1;
    transform: var(--leaf-transform) scale(1);
  }
}

@keyframes leafAlive {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.18); }
}

.leaf-center-1 { top: 82px; --leaf-transform: translateX(-105%) rotate(-34deg); }
.leaf-center-2 { top: 148px; --leaf-transform: translateX(8%) rotate(34deg) scaleX(-1); }
.leaf-left-1 { top: 92px; --leaf-transform: translateX(-110%) rotate(-28deg); }
.leaf-left-2 { top: 162px; --leaf-transform: translateX(8%) rotate(36deg) scaleX(-1); }
.leaf-right-1 { top: 94px; --leaf-transform: translateX(-108%) rotate(-34deg); }
.leaf-right-2 { top: 166px; --leaf-transform: translateX(10%) rotate(32deg) scaleX(-1); }
.leaf-back-left-1 { top: 86px; --leaf-transform: translateX(-108%) rotate(-30deg); }
.leaf-back-left-2 { top: 154px; --leaf-transform: translateX(10%) rotate(36deg) scaleX(-1); }
.leaf-back-right-1 { top: 88px; --leaf-transform: translateX(-106%) rotate(-35deg); }
.leaf-back-right-2 { top: 156px; --leaf-transform: translateX(8%) rotate(34deg) scaleX(-1); }

.flower {
  position: absolute;
  width: var(--flower-d, 108px);
  height: var(--flower-d, 108px);
  --bloom-size: 1;
  --bloom-pop: 1.1;
  --bloom-tilt: 0deg;
  transform: rotate(var(--bloom-tilt)) scale(0);
  filter: drop-shadow(0 0 14px rgba(255, 146, 182, 0.55));
  z-index: 4;
}

.bloom {
  animation: bloom 1.8s ease-out forwards;
}

@keyframes bloom {
  0% { transform: rotate(var(--bloom-tilt)) scale(0); opacity: 0; }
  70% { transform: rotate(var(--bloom-tilt)) scale(var(--bloom-pop)); opacity: 1; }
  100% { transform: rotate(var(--bloom-tilt)) scale(var(--bloom-size)); }
}

.petal {
  position: absolute;
  width: 78px;
  height: 8px;
  background: linear-gradient(90deg, #ffb5cf 0%, #f77fb0 50%, #d85a90 100%);
  border-radius: 999px;
  border: 1px solid var(--ink);
  top: 50%;
  left: 50%;
  transform-origin: 8px center;
  box-shadow: 0 0 10px rgba(233, 111, 161, 0.45);
  animation: inkWobble 3.3s ease-in-out infinite alternate;
}

.petal::before {
  content: "";
  position: absolute;
  left: 6px;
  top: 3px;
  width: 64px;
  height: 1px;
  border-radius: 999px;
  background: rgba(255, 227, 239, 0.78);
}

.petal::after {
  content: "";
  position: absolute;
  right: -8px;
  top: -4px;
  width: 14px;
  height: 14px;
  border: 2px solid rgba(255, 188, 216, 0.95);
  border-left-color: transparent;
  border-bottom-color: transparent;
  border-radius: 50%;
  transform: rotate(30deg);
}

.petal:nth-child(1) { transform: rotate(0deg) translateX(20px); }
.petal:nth-child(2) { transform: rotate(20deg) translateX(20px); }
.petal:nth-child(3) { transform: rotate(40deg) translateX(20px); }
.petal:nth-child(4) { transform: rotate(60deg) translateX(20px); }
.petal:nth-child(5) { transform: rotate(80deg) translateX(20px); }
.petal:nth-child(6) { transform: rotate(100deg) translateX(20px); }
.petal:nth-child(7) { transform: rotate(120deg) translateX(20px); }
.petal:nth-child(8) { transform: rotate(140deg) translateX(20px); }
.petal:nth-child(9) { transform: rotate(160deg) translateX(20px); }
.petal:nth-child(10) { transform: rotate(180deg) translateX(20px); }
.petal:nth-child(11) { transform: rotate(200deg) translateX(20px); }
.petal:nth-child(12) { transform: rotate(220deg) translateX(20px); }
.petal:nth-child(13) { transform: rotate(240deg) translateX(20px); }
.petal:nth-child(14) { transform: rotate(260deg) translateX(20px); }
.petal:nth-child(15) { transform: rotate(280deg) translateX(20px); }
.petal:nth-child(16) { transform: rotate(300deg) translateX(20px); }
.petal:nth-child(17) { transform: rotate(320deg) translateX(20px); }
.petal:nth-child(18) { transform: rotate(340deg) translateX(20px); }

.center {
  position: absolute;
  width: 14px;
  height: 14px;
  background: #ffe082;
  box-shadow: 0 0 12px rgba(255, 224, 130, 0.58);
  border: 1px solid var(--ink-soft);
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.center::before {
  content: "";
  position: absolute;
  inset: -12px;
  border: 1px solid rgba(255, 207, 128, 0.55);
  border-radius: 50%;
}

.center::after {
  content: "";
  position: absolute;
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: #ffcf70;
  left: 50%;
  top: -16px;
  transform: translateX(-50%);
  box-shadow:
    15px 10px 0 #ffcf70,
    -15px 10px 0 #ffcf70,
    0 19px 0 #ffcf70,
    12px -1px 0 #ffcf70,
    -12px -1px 0 #ffcf70;
}

.flower1 { top: 108px; left: 204px; z-index: 10; --flower-d: 128px; --bloom-size: 1.03; --bloom-pop: 1.15; --bloom-tilt: 0deg; }
.flower2 { top: 102px; left: 92px; z-index: 8; --flower-d: 112px; --bloom-size: 0.98; --bloom-pop: 1.09; --bloom-tilt: -9deg; }
.flower3 { top: 104px; left: 314px; z-index: 8; --flower-d: 112px; --bloom-size: 0.98; --bloom-pop: 1.09; --bloom-tilt: 9deg; }
.flower4 { top: 180px; left: 44px; z-index: 7; --flower-d: 106px; --bloom-size: 0.95; --bloom-pop: 1.06; --bloom-tilt: -13deg; }
.flower5 { top: 182px; left: 372px; z-index: 7; --flower-d: 106px; --bloom-size: 0.95; --bloom-pop: 1.06; --bloom-tilt: 13deg; }
.flower6 { top: 58px; left: 146px; z-index: 8; --flower-d: 102px; --bloom-size: 0.94; --bloom-pop: 1.05; --bloom-tilt: -6deg; }
.flower7 { top: 60px; left: 270px; z-index: 8; --flower-d: 102px; --bloom-size: 0.94; --bloom-pop: 1.05; --bloom-tilt: 6deg; }

.bouquet-wrap {
  position: absolute;
  bottom: -8px;
  left: 50%;
  width: 380px;
  height: 360px;
  transform: translateX(-50%);
  z-index: 10;
  pointer-events: none;
  animation: inkWobble 4.4s ease-in-out infinite alternate;
}

.filler {
  position: absolute;
  width: 26px;
  height: 122px;
  z-index: 7;
  opacity: 0.82;
}

.filler::before {
  content: "";
  position: absolute;
  left: 12px;
  top: 18px;
  width: 2px;
  height: 88px;
  background: linear-gradient(180deg, #6f967f, #5f836f);
  border-radius: 999px;
}

.filler::after {
  content: "";
  position: absolute;
  left: 6px;
  top: 10px;
  width: 7px;
  height: 7px;
  border-radius: 50%;
  background: #f0f6fa;
  box-shadow:
    9px 6px 0 #f2f7fb,
    -3px 12px 0 #f2f7fb,
    11px 18px 0 #e8f0f8,
    1px 24px 0 #f2f7fb,
    10px 32px 0 #f2f7fb;
  border: 1px solid rgba(89, 89, 89, 0.22);
}

.filler-1 { top: 72px; left: 146px; transform: rotate(-14deg); }
.filler-2 { top: 84px; left: 344px; transform: rotate(16deg); }
.filler-3 { top: 104px; left: 96px; transform: rotate(-26deg); }
.filler-4 { top: 106px; left: 390px; transform: rotate(24deg); }

@keyframes inkWobble {
  0% { filter: saturate(0.97); }
  100% { filter: saturate(1.03); }
}

.wrap-back-left,
.wrap-back-right,
.wrap-front-left,
.wrap-front-right,
.wrap-inner {
  position: absolute;
  border-radius: 16px;
  border: 2px solid var(--ink);
}

.wrap-back-left {
  left: 26px;
  top: 56px;
  width: 224px;
  height: 222px;
  background: #f3e5ea;
  transform: rotate(-8deg);
  clip-path: polygon(0 22%, 100% 0, 78% 100%, 10% 92%);
}

.wrap-back-right {
  right: 26px;
  top: 54px;
  width: 224px;
  height: 222px;
  background: #f2e2e8;
  transform: rotate(8deg);
  clip-path: polygon(0 0, 100% 22%, 90% 94%, 22% 100%);
}

.wrap-front-left {
  left: 20px;
  bottom: 78px;
  width: 236px;
  height: 224px;
  background: linear-gradient(160deg, #fdf1f5, #f3dce7);
  transform: rotate(-18deg);
  clip-path: polygon(0 14%, 100% 0, 75% 100%, 6% 74%);
}

.wrap-front-right {
  right: 20px;
  bottom: 80px;
  width: 236px;
  height: 224px;
  background: linear-gradient(20deg, #fdf1f5, #f3dce7);
  transform: rotate(18deg);
  clip-path: polygon(0 0, 100% 16%, 94% 74%, 26% 100%);
}

.wrap-inner {
  left: 50%;
  bottom: 56px;
  width: 214px;
  height: 220px;
  transform: translateX(-50%);
  background: #fffaf8;
  border-color: var(--ink-soft);
  clip-path: polygon(0 16%, 100% 16%, 90% 100%, 10% 100%);
}

.ribbon {
  position: absolute;
  left: 50%;
  bottom: 76px;
  width: 128px;
  height: 26px;
  transform: translateX(-50%);
  background: linear-gradient(90deg, #d5878f, #e8a1a8);
  border-radius: 999px;
  border: 2px solid rgba(124, 82, 90, 0.58);
  box-shadow: 0 0 10px rgba(220, 141, 155, 0.35);
}

.ribbon::before,
.ribbon::after {
  content: "";
  position: absolute;
  bottom: -98px;
  width: 22px;
  height: 106px;
  background: linear-gradient(180deg, #e9a5ad, #d98e97);
  border: 2px solid rgba(124, 82, 90, 0.58);
  border-top: 0;
}

.ribbon::before {
  left: 24px;
  transform: rotate(8deg);
  clip-path: polygon(0 0, 100% 0, 84% 100%, 18% 92%);
}

.ribbon::after {
  right: 24px;
  transform: rotate(-8deg);
  clip-path: polygon(0 0, 100% 0, 82% 92%, 16% 100%);
}

@media (max-width: 800px) {
  .bouquet {
    --bouquet-scale: 0.9;
  }
}

.message {
  position: absolute;
  bottom: -70px;
  width: 100%;
  text-align: center;
  font-size: 22px;
  opacity: 0;
}

.show-message {
  animation: fadeIn 2s ease forwards;
  animation-delay: 6.2s;
}

@keyframes fadeIn {
  to { opacity: 1; }
}
</style>
</head>
<body>

<div class="start-screen" id="startScreen">
  <div class="letter-card">
    <div class="wax-seal">&#10084;</div>
    <h1 class="letter-title">A Letter For You</h1>
    <p class="letter-note">Open this love letter and your bouquet will bloom.</p>
    <button class="open-letter-btn" type="button" onclick="startLove()">Open Letter</button>
  </div>
</div>

<audio id="bgMusic" loop>
  <source src="music/i-aint-perfect.mp3" type="audio/mp3">
</audio>

<div class="love-rain" id="loveRain"></div>
<div class="memory-wall" id="memoryWall">
  <div class="polaroid memory-1">
    <div class="memory-photo photo-1">
      <img class="memory-img" src="images/memory1.jpg" alt="Memory photo 1">
    </div>
  </div>
  <div class="polaroid memory-2">
    <div class="memory-photo photo-2">
      <img class="memory-img" src="images/memory2.jpg" alt="Memory photo 2">
    </div>
  </div>
  <div class="polaroid memory-3">
    <div class="memory-photo photo-3">
      <img class="memory-img" src="images/memory3.jpg" alt="Memory photo 3">
    </div>
  </div>
  <div class="polaroid memory-4">
    <div class="memory-photo photo-4">
      <img class="memory-img" src="images/memory4.jpg" alt="Memory photo 4">
    </div>
  </div>
  <div class="polaroid memory-5">
    <div class="memory-photo photo-5">
      <img class="memory-img" src="images/memory5.jpg" alt="Memory photo 5">
    </div>
  </div>
</div>

<div class="bouquet">
  <div class="stem stem-back-left" id="stemBackLeft">
    <div class="leaf leaf-back-left-1"></div>
    <div class="leaf leaf-back-left-2"></div>
  </div>

  <div class="stem stem-back-right" id="stemBackRight">
    <div class="leaf leaf-back-right-1"></div>
    <div class="leaf leaf-back-right-2"></div>
  </div>

  <div class="stem stem-mid-left" id="stemMidLeft"></div>
  <div class="stem stem-mid-right" id="stemMidRight"></div>

  <div class="stem" id="stem">
    <div class="leaf leaf-center-1"></div>
    <div class="leaf leaf-center-2"></div>
  </div>

  <div class="stem stem-left" id="stemLeft">
    <div class="leaf leaf-left-1"></div>
    <div class="leaf leaf-left-2"></div>
  </div>

  <div class="stem stem-right" id="stemRight">
    <div class="leaf leaf-right-1"></div>
    <div class="leaf leaf-right-2"></div>
  </div>

  <div class="filler filler-1"></div>
  <div class="filler filler-2"></div>
  <div class="filler filler-3"></div>
  <div class="filler filler-4"></div>

  <div class="flower flower1" id="f1">
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="center"></div>
  </div>

  <div class="flower flower2" id="f2">
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="center"></div>
  </div>

  <div class="flower flower3" id="f3">
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="center"></div>
  </div>

  <div class="flower flower4" id="f4">
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="center"></div>
  </div>

  <div class="flower flower5" id="f5">
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="center"></div>
  </div>

  <div class="flower flower6" id="f6">
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="center"></div>
  </div>

  <div class="flower flower7" id="f7">
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="petal"></div><div class="petal"></div><div class="petal"></div>
    <div class="center"></div>
  </div>

  <div class="bouquet-wrap">
    <div class="wrap-back-left"></div>
    <div class="wrap-back-right"></div>
    <div class="wrap-front-left"></div>
    <div class="wrap-front-right"></div>
    <div class="wrap-inner"></div>
    <div class="ribbon"></div>
  </div>

  <div class="message" id="msg">
    &#127801; Happy Valentine's Day My Babyyy &#128536;&#128536; &#10084;&#65039; &#127801;
  </div>
</div>

<div class="final-surprise" id="finalSurprise">
  <div class="surprise-card" id="surpriseCard">
    <h2 class="surprise-title">One Last Question...</h2>
    <p class="surprise-text">Will you be my Valentine? &#10084;&#65039;</p>
    <div class="surprise-actions">
      <button class="surprise-btn yes-btn" type="button" onclick="sayYes()">Yes, always</button>
      <button class="surprise-btn no-btn" id="noBtn" type="button" onmouseenter="dodgeNo()" onclick="dodgeNo()">Maybe no</button>
    </div>
    <p class="surprise-reply" id="surpriseReply"></p>
  </div>
</div>

<script>
let loveRainTimer;
let hasStarted = false;
let surpriseShown = false;

function startLoveRain() {
  if (loveRainTimer) return;

  const rain = document.getElementById("loveRain");
  const bouquet = document.querySelector(".bouquet");
  const hearts = ["&#10084;", "&#128150;", "&#128149;", "&#128152;"];

  loveRainTimer = setInterval(() => {
    const rect = bouquet.getBoundingClientRect();
    const drop = document.createElement("span");
    const heart = hearts[Math.floor(Math.random() * hearts.length)];
    const spreadPadding = 40;
    const spreadWidth = Math.max(window.innerWidth - spreadPadding * 2, 260);
    const startX = spreadPadding + Math.random() * spreadWidth;
    const startY = rect.top - 40 + Math.random() * 180;
    const drift = Math.random() * 280 - 140;
    const spin = Math.random() > 0.5 ? "90deg" : "-90deg";
    const size = `${12 + Math.random() * 18}px`;
    const duration = `${5.8 + Math.random() * 3.2}s`;

    drop.className = "love-drop";
    drop.innerHTML = heart;
    drop.style.setProperty("--start-x", `${startX}px`);
    drop.style.setProperty("--start-y", `${startY}px`);
    drop.style.setProperty("--drift", `${drift}px`);
    drop.style.setProperty("--spin", spin);
    drop.style.setProperty("--size", size);
    drop.style.setProperty("--duration", duration);
    rain.appendChild(drop);

    setTimeout(() => {
      drop.remove();
    }, 9800);
  }, 120);
}

function showMemories() {
  document.body.classList.add("show-memories");
}

function showSurprise() {
  if (surpriseShown) return;
  surpriseShown = true;
  document.getElementById("finalSurprise").classList.add("show");
}

function sayYes() {
  const reply = document.getElementById("surpriseReply");
  const noBtn = document.getElementById("noBtn");
  reply.textContent = "Best answer ever. I love you so much.";
  noBtn.style.display = "none";
}

function dodgeNo() {
  const noBtn = document.getElementById("noBtn");
  const card = document.getElementById("surpriseCard");
  const actionWidth = 220;
  const maxX = Math.max(0, card.clientWidth - actionWidth - 32);
  const x = Math.random() * maxX - (maxX / 2);
  const y = (Math.random() * 34) - 8;
  noBtn.style.transform = `translate(${x}px, ${y}px)`;
}

function startLove() {
  if (hasStarted) return;
  hasStarted = true;

  const startScreen = document.getElementById("startScreen");
  startScreen.classList.add("opening");

  setTimeout(() => {
    startScreen.style.display = "none";
  }, 800);

  document.getElementById("bgMusic").play();
  startLoveRain();

  document.querySelectorAll(".stem").forEach((stem) => {
    stem.classList.add("grow-stem");
  });

  setTimeout(() => {
    document.querySelector(".bouquet").classList.add("show-leaves");
  }, 1200);

  setTimeout(showMemories, 2600);

  document.querySelectorAll(".flower").forEach((flower) => {
    const petals = flower.querySelectorAll(".petal").length;
    if (petals < 18) {
      const center = flower.querySelector(".center");
      for (let i = petals; i < 18; i += 1) {
        const petal = document.createElement("div");
        petal.className = "petal";
        flower.insertBefore(petal, center);
      }
    }
  });

  ["f1", "f2", "f3", "f4", "f5", "f6", "f7"].forEach((id, index) => {
    setTimeout(() => {
      document.getElementById(id).classList.add("bloom");
    }, 2000 + (index * 550));
  });

  setTimeout(() => {
    document.querySelector(".bouquet").classList.add("is-alive");
  }, 4500);

  document.getElementById("msg").classList.add("show-message");
  setTimeout(showSurprise, 11200);
}
</script>

</body>
</html>
